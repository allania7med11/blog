(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,n){e.exports={modal:"modal_modal__25DOM"}},126:function(e,t){e.exports={important:!0,purge:["./src/**/*.{js,jsx,ts,tsx}","./public/index.html"],darkMode:!1,theme:{extend:{spacing:{px220:"220px",px800:"800px"},colors:{primary:"#007bff",success:"#28a745",warning:"#ffc107",danger:"#dc3545"},screens:{"2xl":{max:"1535px"},xl:{max:"1279px"},lg:{max:"1023px"},md:{max:"767px"},sm:{max:"639px"},xs:{max:"480px"}}}},variants:{extend:{}},plugins:[]}},127:function(e,t,n){e.exports={nav:"navbar_nav__31h0S"}},132:function(e,t,n){},251:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),i=n(40),o=n.n(i),s=(n(132),n(7)),u=n(35),l=n(120),d=n(11);!function(e){e.UP_UPDATE="UP_UPDATE"}(c||(c={}));var b,j={up:{sm:!0,md:!0,lg:!0,xl:!0}},x=c.UP_UPDATE,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case x:return Object(d.a)(Object(d.a)({},e),{},{up:c});default:return e}};!function(e){e.SECTION_CURRENT="SECTION_CURRENT",e.SECTION_PARENT="SECTION_PARENT",e.SECTION_CLOSE="SECTION_CLOSE",e.SECTION_DISPLAY="SECTION_DISPLAY",e.SECTION_EXTEND="SECTION_EXTEND"}(b||(b={}));var f={action:"create",show:!1,current:{id:0,type:"page",title:"",description:"",body:"",sectionId:""},parent:{sections:[]},displayId:-1,extend:!0},O=b.SECTION_CURRENT,m=b.SECTION_PARENT,h=b.SECTION_CLOSE,v=b.SECTION_DISPLAY,N=b.SECTION_EXTEND,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case O:return Object(d.a)(Object(d.a)({},e),{},{current:c.section?c.section:f.current,action:c.action,show:!0});case m:return Object(d.a)(Object(d.a)({},e),{},{parent:c,show:!1});case h:return Object(d.a)(Object(d.a)({},e),{},{show:!1});case v:return Object(d.a)(Object(d.a)({},e),{},{displayId:c});case N:return Object(d.a)(Object(d.a)({},e),{},{extend:!e.extend});default:return e}},w=Object(u.b)({section:y,breakpoint:p}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,_=Object(u.d)(w,g(Object(u.a)(l.a))),E=n(25),C=n(9),T=n(1),S=function(){return Object(T.jsx)("div",{className:"font-bold text-2xl",children:"Welcome"})},I=n(12),k=n(42),D=n.n(k),P=n(10),R=n(8),U=n(28),A=n.n(U),L=n(43),F=n(121),B=n.n(F).a.create({baseURL:"/api"}),W="sections",X={create:function(e){return B.post(W,e)},read:function(e){return B.get("".concat(W).concat(e?"/"+e:""))},update:function(e,t){return B.patch("".concat(W,"/").concat(e),t)},delete:function(e){return B.delete("".concat(W,"/").concat(e))},upload:function(e){return B.post("uploads",e)}},z=b.SECTION_CURRENT,M=b.SECTION_PARENT,Y=b.SECTION_CLOSE,q=b.SECTION_DISPLAY,V=b.SECTION_EXTEND,H=function(e,t){var n={action:"create",section:{}};return n.section={type:e,title:"",description:"",body:"",sectionId:t},{type:z,payload:n}},J=function(e){return{type:z,payload:e}},G=function(e){return{type:M,payload:e}},K=function(){return{type:Y}},Q=function(e){return{type:q,payload:e}},Z=function(){return{type:V}},$={create:function(e){return X.create(e)},update:function(e){return X.update(e.id,e)},delete:function(e){return X.delete(e.id)}},ee=function(e){var t=e.action,n=e.section;return function(){var e=Object(L.a)(A.a.mark((function e(c){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$[t](n);case 2:return r=n.sectionId?n.sectionId+"":"",e.next=5,X.read(r);case 5:a=e.sent,c(G(a.data));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=n(56),ne=n(122),ce=n.n(ne),re=n(68),ae=n.n(re),ie=n(69),oe=n.n(ie),se=(n(156),n(34)),ue=n(123),le=n(124),de=n.n(le),be=n(57),je=n.n(be),xe=n(125),pe=n.n(xe);function fe(e){return new Promise((function(t,n){var c=new FormData;c.append("image",e,e.name),X.upload(c).then((function(e){t({data:{link:e.data}})})).catch((function(e){n(e)}))}))}var Oe=function(e){var t=e.html,n=e.onChange,c=pe()(t),a=se.ContentState.createFromBlockArray(c.contentBlocks),i=se.EditorState.createWithContent(a),o=Object(r.useState)(i),s=Object(I.a)(o,2),u=s[0],l=s[1];return Object(T.jsx)("div",{children:Object(T.jsx)(ue.Editor,{editorState:u,wrapperClassName:je.a.wrapper,editorClassName:je.a.editor,toolbarClassName:je.a.toolbar,onEditorStateChange:function(e){l(e),n(de()(Object(se.convertToRaw)(e.getCurrentContent())))},toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:fe,alt:{present:!0,mandatory:!0}}}})})};var me,he={create:{btn:"btn bg-primary",icon:R.g,text:"Create"},update:{btn:"btn bg-warning",icon:R.f,text:"Update"},delete:{btn:"btn bg-danger",icon:R.i,text:"Delete"}},ve=function(e){var t=e.margin,n=Object(s.c)((function(e){var t=e.section;return{action:t.action,current:t.current}})),c=n.action,a=n.current,i=Object(s.b)(),o=function(e){var t=e.current,n=e.action,c=e.dispatch,a=Object(r.useState)(t),i=Object(I.a)(a,2),o=i[0],s=i[1],u=function(e){s(Object(d.a)(Object(d.a)({},o),e))},l="create"===n?"Create new ".concat(t.type):"Update ".concat(t.type),b={updateSection:function(e){var t=e.target;return u(Object(te.a)({},t.name,t.value))},updateBody:function(e){return u({body:e})},submit:function(){var e=Object(L.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(ee({action:n,section:o}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return[o,l,b]}({current:a,action:c,dispatch:i}),u=Object(I.a)(o,3),l=u[0],b=u[1],j=u[2],x=j.updateSection,p=j.updateBody,f=j.submit,O=function(e){var t=Object(r.useRef)(null),n=Object(r.useRef)(null);return[t,function(c){(t.current&&t.current===c.target||n.current&&n.current===c.target)&&e(K())},n]}(i),m=Object(I.a)(O,3),h=m[0],v=m[1],N=m[2],y=he[c];return Object(T.jsx)("div",{ref:h,onClick:v,className:ce.a.modal,children:Object(T.jsx)("div",{ref:N,className:t,children:Object(T.jsxs)("div",{className:"".concat(ae.a.card," mt-16 max-w-4xl z-10"),children:[Object(T.jsx)("div",{onClick:function(){return i(K())},className:ae.a.close,children:Object(T.jsx)(P.a,{className:"mx-1",icon:R.h})}),Object(T.jsxs)("form",{className:oe.a.form,onSubmit:function(e){return f(e)},children:["delete"===c?Object(T.jsxs)("p",{className:"text-center text-2xl",children:["Are you sure you want to delete",Object(T.jsxs)("span",{className:"font-bold",children:[" ",l.title," "]}),"section?"]}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:oe.a.title,children:b}),Object(T.jsx)("label",{htmlFor:"fname",children:"Title:"}),Object(T.jsx)("input",{value:l.title,onChange:x,type:"text",id:"fname",name:"title",required:!0}),Object(T.jsx)("label",{htmlFor:"fdescription",children:"Description:"}),Object(T.jsx)("input",{value:l.description,onChange:x,type:"text",id:"fdescription",name:"description",required:!0}),"section"===l.type&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("label",{htmlFor:"fbody",children:"Body:"}),Object(T.jsx)(Oe,{html:l.body+"",onChange:p})]})]}),Object(T.jsx)("div",{className:"text-center",children:Object(T.jsxs)("button",{type:"submit",className:"".concat(D.a.btn," ").concat(y.btn),children:[y.text,Object(T.jsx)(P.a,{className:"mx-1",icon:y.icon})]})})]})]})})})},Ne=function(e){var t=e.section;if(Object(s.c)((function(e){return e.section.displayId}))!==t.id&&t.description){var n=t.description.length>500?t.description.slice(490)+"...":t.description;return Object(T.jsx)("p",{className:"text-sm px-2 text-gray-800",children:n})}var c={__html:t.body+""};return Object(T.jsx)("div",{dangerouslySetInnerHTML:c})};!function(e){e.button="text-blue-500 border-blue-700 focus:border-blue-900 focus:outline-none border-2 \n    mt-6 inline-block whitespace-nowrap w-40 shadow-md  hover:shadow-xl rounded-lg"}(me||(me={}));var ye,we=function(e){var t=function(e){var t,n=Object(s.c)((function(e){return e.section.displayId})),c=Object(s.b)(),r=Object(C.f)(),a=n===e.id;t="page"===e.type?"Discover more":a?"View less":"View more";var i=a?R.b:R.c,o=e.id&&!a?e.id:-1;return[t,i,function(){if("section"===e.type){var t=document.getElementById("section".concat(e.id));c(Q(o)),window.scroll({top:t?t.offsetTop-100:100,left:0,behavior:"smooth"})}else r.push("/lectures/"+e.id),window.scrollTo(0,0)}]}(e.section),n=Object(I.a)(t,3),c=n[0],r=n[1],a=n[2];return Object(T.jsxs)("button",{onClick:a,className:me.button,children:[Object(T.jsx)("span",{className:"px-2",children:c}),Object(T.jsx)(P.a,{className:"mx-1",icon:r})]})};!function(e){e.card="text-left relative m-2  p-6  w-full  mx-auto bg-white rounded-xl shadow-md  flex flex-col",e.icon="btn  px-1 py-1 hover:text-gray-800 outline-none"}(ye||(ye={}));var ge,_e=function(e){var t=e.section,n=function(e,t){return[function(){return t(J({action:"update",section:e}))},function(){return t(J({action:"delete",section:e}))}]}(t,Object(s.b)()),c=Object(I.a)(n,2),r=c[0],a=c[1];return Object(T.jsxs)("div",{className:ye.card,id:"section".concat(t.id),children:[Object(T.jsxs)("div",{className:"absolute top-0 right-0 px-2 py-1 text-gray-600",children:[Object(T.jsx)("button",{onClick:r,className:ye.icon,children:Object(T.jsx)(P.a,{className:"mx-1",icon:R.f})}),Object(T.jsx)("button",{onClick:a,className:ye.icon,children:Object(T.jsx)(P.a,{className:"mx-1",icon:R.i})})]}),Object(T.jsxs)("div",{className:"text-lg text-gray-600  flex py-2 items-center",children:[t.title,"page"===t.type&&Object(T.jsx)(P.a,{className:"mx-1 text-sm",icon:R.e})]}),Object(T.jsx)(Ne,{section:t}),Object(T.jsx)(we,{section:t})]})},Ee=Object(r.memo)(_e),Ce=function(){var e=Object(C.g)().id,t=Object(s.c)((function(e){return e.section.parent.sections})),n=Object(s.b)();return Object(r.useEffect)((function(){var t=e?Number(e):void 0;n(function(e){return function(){var t=Object(L.a)(A.a.mark((function t(n){var c,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e?e+"":"",t.next=3,X.read(c);case 3:r=t.sent,n(G(r.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[n,e]),Object(T.jsx)("div",{className:"flex flex-col pb-64",children:t.map((function(e,t){return Object(T.jsx)(Ee,{section:e},t)}))})},Te=function(e){var t=e.extend,n=e.parent,c=Object(C.f)(),r=n.sectionId?n.sectionId:"";return Object(T.jsxs)("div",{className:"text-xl space-x-5 py-1 flex",children:[Object(T.jsx)("div",{onClick:function(){return c.push("/lectures/"+r)},className:"text-xl hover:text-white space-x-5 py-1 flex",children:Object(T.jsx)(P.a,{className:"mx-1 ",icon:R.a})}),t&&Object(T.jsx)("div",{children:n.title})]})},Se=function(e){var t=e.section,n=e.extend,c=e.index,r=function(e){var t=Object(s.b)(),n=Object(C.f)();return function(){if("section"===e.type){var c=document.getElementById("section".concat(e.id));t(Q(e.id?e.id:-1)),window.scroll({top:c?c.offsetTop-100:100,left:0,behavior:"smooth"})}else n.push("/lectures/"+e.id),window.scrollTo(0,0)}}(t);return Object(T.jsxs)("div",{onClick:r,className:"py-4 hover:text-white cursor-pointer",children:[c+1,n&&".".concat(t.title),"page"===t.type&&Object(T.jsx)(P.a,{className:"mx-1 text-sm",icon:R.e})]})};!function(e){e.navbar="z-20 text-left h-screen text-lg font-medium truncate bg-gray-800 whitespace-nowrap fixed top-14 left-0 flex flex-col pl-4 pb-4 pt-2   text-gray-400"}(ge||(ge={}));var Ie,ke=function(){var e=Object(C.g)().id,t=Object(s.c)((function(e){var t=e.section;return[t.parent,t.extend]})),n=Object(I.a)(t,2),c=n[0],r=n[1],a=function(e){var t=Object(s.b)();return[e?R.h:R.d,e?"w-px220":"w-14",function(){return t(Z())}]}(r),i=Object(I.a)(a,3),o=i[0],u=i[1],l=i[2];return Object(T.jsxs)("div",{className:"".concat(ge.navbar," ").concat(u),children:[Object(T.jsx)("div",{onClick:l,children:Object(T.jsx)(P.a,{className:"mx-1 hover:text-white",icon:o})}),e&&Object(T.jsx)(Te,{extend:r,parent:c}),Object(T.jsx)("hr",{}),Object(T.jsx)("div",{className:"max-h-screen pt-2 overflow-y-auto divide-y divide-gray-600",children:c.sections.map((function(e,t){return Object(T.jsx)(Se,{section:e,extend:r,index:t},t)}))})]})},De=c.UP_UPDATE,Pe=n(126),Re=n.n(Pe),Ue=["sm","md","lg","xl"],Ae=Ue.reduce((function(e,t){return e[t]=parseInt(Re.a.theme.extend.screens[t].max.slice(0,-2)),e}),{}),Le=function(e){return Ue.reduce((function(t,n){return t[n]=e>=Ae[n],t}),{})},Fe=function(e){Object(r.useEffect)((function(){e(Le(window.innerWidth));var t=function(e,t){var n;return function(){for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,r)}),t)}}((function(){e(Le(window.innerWidth))}),500);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[])};!function(e){e.shadow="z-10 w-screen h-screen fixed top-0 left-0 bg-gray-500 opacity-25"}(Ie||(Ie={}));var Be=function(){var e=Object(C.g)().id,t=Object(s.c)((function(e){var t=e.section,n=t.show,c=t.extend,r=e.breakpoint.up,a=c&&!r.sm;return[n,c&&r.sm?"ml-px220":"ml-14",a]})),n=Object(I.a)(t,3),c=n[0],r=n[1],a=n[2],i=Object(s.b)();return Fe((function(e){return i(function(e){return{type:De,payload:e}}(e))})),Object(T.jsxs)("div",{children:[Object(T.jsx)(ke,{}),a&&Object(T.jsx)("div",{className:Ie.shadow,onClick:function(){return i(Z())}}),c&&Object(T.jsx)(ve,{margin:r}),Object(T.jsxs)("div",{className:r,children:[Object(T.jsxs)("button",{onClick:function(){return i(H("page",e))},className:"".concat(D.a.btn," bg-primary"),children:[Object(T.jsx)(P.a,{className:"mx-1",icon:R.g}),"New page"]}),Object(T.jsxs)("button",{onClick:function(){return i(H("section",e))},className:"".concat(D.a.btn," bg-primary"),children:[Object(T.jsx)(P.a,{className:"mx-1",icon:R.g}),"New section"]}),Object(T.jsx)(Ce,{})]})]})},We=function(){return Object(T.jsx)(Be,{})},Xe=n(127),ze=n.n(Xe),Me=function(){return Object(T.jsx)(E.a,{children:Object(T.jsxs)("div",{className:"app",children:[Object(T.jsx)("nav",{className:"".concat(ze.a.nav),children:Object(T.jsxs)("ul",{className:"flex  text-white items-center h-full",children:[Object(T.jsx)("li",{className:"opacity-75 hover:opacity-100",children:Object(T.jsx)(E.b,{to:"/",children:"Home"})}),Object(T.jsx)("li",{className:"opacity-75 hover:opacity-100",children:Object(T.jsx)(E.b,{to:"/lectures",children:"Lectures"})})]})}),Object(T.jsx)("div",{className:"content m-2 mt-16",children:Object(T.jsxs)(C.c,{children:[Object(T.jsx)(C.a,{path:"/",exact:!0,children:Object(T.jsx)(S,{})}),Object(T.jsx)(C.a,{path:"/lectures/:id?",children:Object(T.jsx)(We,{})})]})})]})})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(s.a,{store:_,children:Object(T.jsx)(Me,{})})}),document.getElementById("root")),Ye()},42:function(e,t,n){e.exports={btn:"btn_btn__1ltF1"}},57:function(e,t,n){e.exports={wrapper:"editor_wrapper__dI0f4",editor:"editor_editor__94bfW",toolbar:"editor_toolbar__3-RYk"}},68:function(e,t,n){e.exports={card:"card_card__1aWqf",close:"card_close__3a8hi"}},69:function(e,t,n){e.exports={form:"form_form__1rNdI",title:"form_title__38U55"}}},[[251,1,2]]]);
//# sourceMappingURL=main.50070c3e.chunk.js.map